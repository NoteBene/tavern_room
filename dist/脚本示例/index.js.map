{"version":3,"file":"index.js","mappings":"kKACAA,EAAE,KACAC,OAAOC,QAAQ,eAAgB,UAIjCF,EAAEG,QAAQC,GAAG,WAAY,KACvBH,OAAOI,KAAK,aAAc,Q,QCP5BL,EAAE,KACAM,qBAAqB,CAAC,CAAEC,KAAM,MAAOC,SAAS,KAE9CC,QAAQC,eAAe,OAAQ,KAC7BT,OAAOU,QAAQ,a,QCJnBF,QAAQG,cAAcC,gBAAkBC,IACtCb,OAAOc,MAAM,UAAUD,WAAqB,S,GCA1CE,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,OACf,CCrBAJ,EAAoBO,EAAKH,IACH,oBAAXI,QAA0BA,OAAOC,aAC1CC,OAAOC,eAAeP,EAASI,OAAOC,YAAa,CAAEG,MAAO,WAE7DF,OAAOC,eAAeP,EAAS,aAAc,CAAEQ,OAAO,K,sCCgChD,WACL,IAAIC,EAAUC,YAAYC,mBACnBvB,QAAQG,cAAcqB,aAAcC,IACrCJ,IAAYI,IACdJ,EAAUI,EACV/B,OAAOgC,SAASC,WAGtB,CC3CAC,GCDArC,EAAEsC,UAEqB,IADAC,0BAIbC,mBAAmB,CACrB,CACIC,KAAM,YACNC,QAAS,EAAO,2eAYpB,CACID,KAAM,YACNC,QAAS,EAAO,0eAYrB,CAAEC,QAAS,UChClB,MAEA,EAFoB,UCHd,EAA+BC,ICErC5C,EAAE,KACE,MAAM6C,GAAM,IAAAC,WAAU,GAAIC,IAAI,KACxBC,EL8BDhD,EAAE,SAASiD,KAAK,YAAaC,eK9BDC,SAAS,yBAC1CN,EAAIO,MAAMJ,EAAK,IACf,MAAM,QAAEK,GLML,SACLC,EAA2G,QAE3G,MAAMC,EAAOvD,EAAE,SACZiD,KAAK,YAAaC,eAClBM,OAAOxD,EAAE,eAAgByD,UAAUC,SACnCP,SAASG,GAEZ,MAAO,CACLD,QAAS,IAAME,EAAKI,SAExB,CKjBwBC,GACpB5D,EAAEG,QAAQC,GAAG,WAAY,KACrByC,EAAIgB,UACJb,EAAKW,SACLN","sources":["src://tavern_helper_template/ç¤ºä¾‹/è„šæœ¬ç¤ºä¾‹/åŠ è½½å’Œå¸è½½æ—¶æ‰§è¡Œå‡½æ•°.ts","src://tavern_helper_template/ç¤ºä¾‹/è„šæœ¬ç¤ºä¾‹/æ·»åŠ æŒ‰é’®å’Œæ³¨å†ŒæŒ‰é’®äº‹ä»¶.ts","src://tavern_helper_template/ç¤ºä¾‹/è„šæœ¬ç¤ºä¾‹/ç›‘å¬æ¶ˆæ¯ä¿®æ”¹.ts","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/webpack/runtime/make namespace object","src://tavern_helper_template/util/script.ts","src://tavern_helper_template/ç¤ºä¾‹/è„šæœ¬ç¤ºä¾‹/èŠå¤©æ–‡ä»¶å˜æ›´æ—¶é‡è½½è„šæœ¬.ts","src://tavern_helper_template/ç¤ºä¾‹/è„šæœ¬ç¤ºä¾‹/è°ƒæ•´æ¶ˆæ¯æ¥¼å±‚.ts","webpack://tavern_helper_template/ç¤ºä¾‹/è„šæœ¬ç¤ºä¾‹/è®¾ç½®ç•Œé¢.vue?f728","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/ç¤ºä¾‹/è„šæœ¬ç¤ºä¾‹/è®¾ç½®ç•Œé¢.ts"],"sourcesContent":["// åœ¨åŠ è½½è„šæœ¬æ—¶æ‰§è¡ŒæŸä¸ªå‡½æ•°\n$(() => {\n  toastr.success('ä½ å·²ç»æˆåŠŸåŠ è½½ç¤ºä¾‹è„šæœ¬!', 'æ­å–œä½ !');\n});\n\n// åœ¨å¸è½½è„šæœ¬æ—¶æ‰§è¡ŒæŸä¸ªå‡½æ•°\n$(window).on('pagehide', () => {\n  toastr.info('ä½ å·²ç»å¸è½½ç¤ºä¾‹è„šæœ¬!', 'å†è§!');\n});\n","$(() => {\n  replaceScriptButtons([{ name: 'æ™šä¸Šå¥½', visible: true }]);\n\n  eventOn(getButtonEvent('æ™šä¸Šå¥½'), () => {\n    toastr.warning('æ™šå®‰, ç»œç»œ');\n  });\n});\n","eventOn(tavern_events.MESSAGE_UPDATED, (message_id: number) => {\n  toastr.error(`è°è®©ä½ åŠ¨æˆ‘ç¬¬ ${message_id} æ¥¼æ¶ˆæ¯çš„ğŸ˜¡`, `å¹²ä»€ä¹ˆ!`);\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import iframe_srcdoc from './iframe_srcdoc.html';\n\nexport async function loadReadme(url: string): Promise<boolean> {\n  const readme = await fetch(url);\n  if (!readme.ok) {\n    return false;\n  }\n  const readme_text = await readme.text();\n  replaceScriptInfo(readme_text);\n  return true;\n}\n\nexport function teleportStyle(\n  append_to: JQuery.Selector | JQuery.htmlString | JQuery.TypeOrArray<Element | DocumentFragment> | JQuery = 'head',\n): { destroy: () => void } {\n  const $div = $(`<div>`)\n    .attr('script_id', getScriptId())\n    .append($(`head > style`, document).clone())\n    .appendTo(append_to);\n\n  return {\n    destroy: () => $div.remove(),\n  };\n}\n\nexport function createScriptIdIframe(): JQuery<HTMLIFrameElement> {\n  return $(`<iframe>`).attr({\n    script_id: getScriptId(),\n    frameborder: 0,\n    srcdoc: iframe_srcdoc,\n  }) as JQuery<HTMLIFrameElement>;\n}\n\nexport function createScriptIdDiv(): JQuery<HTMLDivElement> {\n  return $('<div>').attr('script_id', getScriptId()) as JQuery<HTMLDivElement>;\n}\n\nexport function reloadOnChatChange(): EventOnReturn {\n  let chat_id = SillyTavern.getCurrentChatId();\n  return eventOn(tavern_events.CHAT_CHANGED, new_chat_id => {\n    if (chat_id !== new_chat_id) {\n      chat_id = new_chat_id;\n      window.location.reload();\n    }\n  });\n}\n","import { reloadOnChatChange } from '@util/script';\n\nreloadOnChatChange();\n","\"use strict\";\n$(async () => {\n    const message_id = getLastMessageId();\n    if (message_id !== 0) {\n        return;\n    }\n    await createChatMessages([\n        {\n            role: 'assistant',\n            message: dedent(`\n                   [æŸ¥çœ‹æ—¥è®°: è¿™æ˜¯ç¬¬äºŒæ¬¡çœ‹æˆ‘çš„æ—¥è®°äº†å‘¢~]\n                   <roleplay_options>\n                   æ¥å—æ—¥è®°æœ¬å¹¶ç¿»é˜…: é’ç©ºé»æ¥è¿‡å¥¹é€’æ¥çš„ç²‰è‰²æ—¥è®°æœ¬ï¼Œåœ¨å¤©å°é˜³å…‰ä¸‹ç¼“ç¼“ç¿»å¼€ç¬¬ä¸€é¡µ\n                   ä¿æŒæ²‰é»˜ç›¯ç€å¥¹çœ‹: é’ç©ºé»æ²¡æœ‰æ¥æœ¬å­ï¼Œåªæ˜¯ç›¯ç€å¥¹ç•¥æ˜¾ç´§å¼ çš„è¡¨æƒ…å’Œè½»é¢¤çš„å£°éŸ³\n                   ååˆ°å¥¹èº«è¾¹: é’ç©ºé»æ²¡æœ‰ç«‹åˆ»å›åº”ï¼Œè€Œæ˜¯ç¼“ç¼“èµ°åˆ°ç»œç»œèº«è¾¹åä¸‹ï¼Œç­‰å¾…å¥¹è‡ªå·±ç»§ç»­è¯´\n                   å¼€ç©ç¬‘åŒ–è§£æ°”æ°›: é’ç©ºé»å¾®å¾®ä¸€ç¬‘ï¼Œå¼€ç©ç¬‘åœ°è¯´ã€Œæ‰€ä»¥ï¼Œæ˜¯è¦è®©æˆ‘å½“ç›‘ç£å®˜å•¦ï¼Ÿã€\n                   è·³è¿‡æ—¶é—´: é’ç©ºé»æ¥è¿‡æ—¥è®°æœ¬ï¼Œå®‰é™åœ°ç¿»äº†å‡ é¡µï¼Œæ—¶é—´æ‚„ç„¶æµé€è‡³é»„æ˜æ·±å¤„\n                   å’Œç»œç»œèŠå¤©: é’ç©ºé»è¯•æ¢æ€§åœ°é—®ï¼šã€Œè¿™æœ¬æ˜¯ä»å“ªå¤©å¼€å§‹å†™çš„ï¼Ÿéƒ½å†™äº›ä»€ä¹ˆå‘€ï¼Ÿã€\n                   </roleplay_options>\n                 `),\n        },\n        {\n            role: 'assistant',\n            message: dedent(`\n                   [æŸ¥çœ‹æ—¥è®°: çœŸæ˜¯çš„, å°±è¿™ä¹ˆå–œæ¬¢çœ‹å—(vã€ƒÏ‰ã€ƒ)]\n                   <roleplay_options>\n                   é˜…è¯»æ—¥è®°ç¬¬ä¸€é¡µï¼šé’ç©ºé»æ‰“å¼€ç²‰è‰²çš„æ—¥è®°æœ¬ï¼Œä»ç¬¬ä¸€é¡µå¼€å§‹è®¤çœŸé˜…è¯»ç»œç»œçš„è®°å½•å†…å®¹ã€‚\n                   é—®å¥¹å°é¢ä¸Šçš„å…”å­è´´çº¸ï¼šé’ç©ºé»å¥½å¥‡é‚£æšè“è‰²å…”å­è´´çº¸çš„æ¥å†ï¼Œè½¬å¤´å‘ç»œç»œè¯¢é—®ã€‚\n                   è§‚å¯Ÿç»œç»œçš„å°åŠ¨ä½œï¼šé’ç©ºé»ä¸æ€¥ç€ç¿»å¼€æ—¥è®°ï¼Œè€Œæ˜¯æ³¨æ„åˆ°ç»œç»œè¡¨æƒ…é‡Œä¸€ä¸æœŸå¾…ä¸ä¸å®‰ã€‚\n                   å’Œå¥¹é—²èŠå¤©æ°”ï¼šé’ç©ºé»éšå£èŠèµ·å‚æ™šé£æœ‰ç‚¹å‡‰ï¼Œè¯•å›¾èˆ’ç¼“ç´§å¼ æ°”æ°›ã€‚\n                   è°ƒä¾ƒå¥¹ï¼šâ€œæœ‰å“ªé¡µæ˜¯â€˜ä¸è®¸çœ‹â€™çš„ï¼Ÿâ€é’ç©ºé»è½»æ¾åœ°è¯•å›¾åŒ–è§£å¥¹çš„å°æ…Œä¹±ã€‚\n                   è½¬èº«å›æ•™å®¤ï¼šé’ç©ºé»æ¥è¿‡æ—¥è®°å´å¹¶æœªç«‹åˆ»ç¿»å¼€ï¼Œè€Œæ˜¯è¡¨ç¤ºå›æ•™å®¤å†çœ‹ï¼Œæ‰“ç®—æ…¢æ…¢é˜…è¯»ã€‚\n                   </roleplay_options>\n                 `),\n        },\n    ], { refresh: 'all' });\n});\n","/* unplugin-vue-components disabled */import script from \"./è®¾ç½®ç•Œé¢.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./è®¾ç½®ç•Œé¢.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","import { createScriptIdDiv, teleportStyle } from '@util/script';\nimport ç•Œé¢ from './è®¾ç½®ç•Œé¢.vue';\n$(() => {\n    const app = createApp(ç•Œé¢).use(createPinia());\n    const $app = createScriptIdDiv().appendTo('#extensions_settings2');\n    app.mount($app[0]);\n    const { destroy } = teleportStyle();\n    $(window).on('pagehide', () => {\n        app.unmount();\n        $app.remove();\n        destroy();\n    });\n});\n"],"names":["$","toastr","success","window","on","info","replaceScriptButtons","name","visible","eventOn","getButtonEvent","warning","tavern_events","MESSAGE_UPDATED","message_id","error","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","r","Symbol","toStringTag","Object","defineProperty","value","chat_id","SillyTavern","getCurrentChatId","CHAT_CHANGED","new_chat_id","location","reload","reloadOnChatChange","async","getLastMessageId","createChatMessages","role","message","refresh","Vue","app","createApp","use","$app","attr","getScriptId","appendTo","mount","destroy","append_to","$div","append","document","clone","remove","teleportStyle","unmount"],"ignoreList":[],"sourceRoot":""}